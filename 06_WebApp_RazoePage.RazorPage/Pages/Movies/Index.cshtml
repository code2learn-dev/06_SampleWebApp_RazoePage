@page
@model _06_WebApp_RazoePage.RazorPage.Pages.Movies.IndexModel
@{
	ViewBag.Title = "مدیریت فیلم ها";
	ViewBag.CssTitle = "info";
	LinkViewModel linkViewModel = new()
	{
		Caption = "ثبت فیلم جدید",
		PageName = "Add"
	};
}
<table class="table table-striped table-bordered table-responsive">
	<thead>
		<tr>
			<th>ردیف</th>
			<th>عنوان</th>
			<th>امتیاز</th>
			<th>عملیات</th>
		</tr>
	</thead>
	<tbody>
		@if (Model.EntityViewModelList is not null &&
			 Model.EntityViewModelList.Any())
		{
			foreach (var product in Model.EntityViewModelList.Select(
				    (item, index) => new { item, index }))
			{
				<tr>
					<td>@(product.index + 1)</td>
					<td>@product.item.Title</td>
					<td>@product.item.Score</td>
					<td>
						<a class="btn btn-success btn-sm" asp-route-id="@product.item.Id" asp-page="Edit">ویرایش</a>
						<a class="btn btn-danger btn-sm" asp-route-id="@product.item.Id" asp-page="Delete">حذف</a> 
					</td>
				</tr>
			}
		}
		else
		{
			<tr>
				<td colspan="4">
					<p class="alert alert-warning text-center">در حال حاضر فیلمی ثبت نشده است</p>
				</td>
			</tr>
		}
	</tbody>
</table>
<partial name="LinkView" model="@linkViewModel" />
